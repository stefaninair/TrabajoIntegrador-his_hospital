extends ../layout

block content
  h1 Internar paciente #{paciente.nombre} #{paciente.apellido}

  form(action=`/internaciones/nueva/${paciente.id}`, method="POST")
    label Motivo de internación:
    select(name="motivo", required onchange="mostrarCamposAdicionales(this.value)")
      option(value="") -- Seleccione --
      option(value="cirugia") Cirugía programada
      option(value="derivacion") Derivación médica
      option(value="emergencia") Emergencia
    br

    div(id="campos-cirugia" style="display:none;")
      label Preoperatorios:
      input(type="text", name="preoperatorios")
      br
      label Autorizaciones médicas:
      input(type="text", name="autorizaciones")
      br
      label Documentación:
      input(type="text", name="documentacion")
      br

    // Aquí se agregarán más campos luego para asignación de habitación

    button(type="submit") Confirmar Internación

  a(href="/pacientes" style="display:inline-block; margin-top:10px; padding:8px 16px; background:#ccc; border-radius:4px; text-decoration:none;") ← Volver
  script.
    function mostrarCamposAdicionales(valor) {
      document.getElementById("campos-cirugia").style.display = (valor === "cirugia") ? "block" : "none";
    }
