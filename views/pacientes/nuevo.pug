extends ../layout

block content
  h1 Registro de Nuevo Paciente

  form(action="/pacientes/nuevo", method="POST")
    div
      label DNI:
      input(type='text', name='dni', value=dni, required)
      if errores && errores.dni
        div(style="color:red; font-size:0.9em")= errores.dni

    div
      label Apellido:
      input(type='text', name='apellido', value=apellido, required)
      if errores && errores.apellido
        div(style="color:red; font-size:0.9em")= errores.apellido

    div
      label Nombre:
      input(type='text', name='nombre', value=nombre, required)
      if errores && errores.nombre
        div(style="color:red; font-size:0.9em")= errores.nombre

    div
      label Tel√©fono:
      input(type='text', name='telefono', value=telefono)

    div  
      label Correo electr√≥nico:
      input(type='email', name='correo', value=correo)
      if errores && errores.correo
        div(style="color:red; font-size:0.9em")= errores.correo

    div
      label Fecha de nacimiento:
      input(type='date', name='fecha_nacimiento', value=fecha_nacimiento, required)
      if errores && errores.fecha_nacimiento
        div(style="color:red; font-size:0.9em")= errores.fecha_nacimiento

    div
      label G√©nero:
      select(name='sexo', required)
        option(value='') Seleccionar...
        option(value='M', selected=sexo==='M') M
        option(value='F', selected=sexo==='F') F
      if errores && errores.sexo
        div(style="color:red; font-size:0.9em")= errores.sexo

    div
      label Direcci√≥n:
      input(type='text', name='direccion', value=direccion)

    div
      label Seguro M√©dico:
      select(name='id_seguro', required)
        option(value='') Seleccionar...
        each seguro in seguros
          option(value=seguro.id, selected=id_seguro==seguro.id)= seguro.nombre
      if errores && errores.id_seguro
        div(style="color:red; font-size:0.9em")= errores.id_seguro

    div
      label N√∫mero de Afiliado:
      input(type='text', name='nro_afiliado', value=nro_afiliado)

    div(style="margin-top: 20px")
      a(href='/pacientes', style="margin-right: 10px; padding: 8px 16px; background:#ccc; color:black; text-decoration:none; border-radius:4px;") ‚Üê Volver
      button(type='submit', style="padding: 8px 16px; background:#2196F3; color:white; border:none; border-radius:4px;") üíæ Guardar Paciente
